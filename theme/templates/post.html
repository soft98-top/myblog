{% extends "base.html" %}

{% block title %}{{ post.title }} - {{ site.title }}{% endblock %}

{% block description %}{{ post.description or post.title }}{% endblock %}

{% block content %}
<article class="post">
    <header class="post-header">
        <h1 class="post-title">{{ post.title }}</h1>
        <div class="post-meta">
            <time datetime="{{ post.date.isoformat() }}">
                {{ post.date.strftime(config.theme_config.date_format) }}
            </time>
            {% if post.author %}
            <span class="post-author">by {{ post.author }}</span>
            {% endif %}
        </div>

        {% if post.tags %}
        <div class="post-tags">
            {% for tag in post.tags %}
            <a href="{{ url_for('/tags/' ~ tag ~ '.html') }}" class="tag">{{ tag }}</a>
            {% endfor %}
        </div>
        {% endif %}
    </header>

    <div class="post-content">
        {{ post.html | safe }}
    </div>

    <footer class="post-footer">
        <nav class="post-nav">
            {% if prev_post %}
            <div class="post-nav-item post-nav-prev">
                <a href="{{ url_for('/posts/' ~ prev_post.relative_path ~ '.html') }}">
                    <span class="post-nav-label">← 上一篇</span>
                    <span class="post-nav-title">{{ prev_post.title }}</span>
                </a>
            </div>
            {% endif %}

            {% if next_post %}
            <div class="post-nav-item post-nav-next">
                <a href="{{ url_for('/posts/' ~ next_post.relative_path ~ '.html') }}">
                    <span class="post-nav-label">下一篇 →</span>
                    <span class="post-nav-title">{{ next_post.title }}</span>
                </a>
            </div>
            {% endif %}
        </nav>
    </footer>
</article>
{% endblock %}